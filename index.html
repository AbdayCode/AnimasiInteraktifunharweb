<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Media Pembelajaran Agama</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>

    <div id="progress-bar"></div>
    <div id="loading-spinner" style="display:none;"></div>

    <div class="page">
        <h2 class="site-title">Pengenalan Agama</h2>

        <div id="step-form" class="card" aria-hidden="false">
            <h3>Masukkan Identitas</h3>
            <p class="muted">Isi nama dan kelas kamu untuk memulai pembelajaran.</p>
            <div id="revisit-message" style="display:none; color:#ffeb3b; font-weight:600; margin-bottom:15px; text-align:center;"></div>
            
            <div id="achievement-badge" class="achievement-badge" style="display:none;">
                <img src="https://i.ibb.co/6PqjXfV/badge.png" alt="Lencana Ahli Agama" />
                <span>Ahli Agama</span>
            </div>

            <label for="input-name">Nama</label>
            <input id="input-name" type="text" placeholder="Contoh: Siti Nuraini" />

            <label for="input-class">Kelas</label>
            <select id="input-class" required>
                <option value="" disabled selected>Pilih Kelas</option>
                <option value="3A">3A</option>
                <option value="3B">3B</option>
                <option value="3C">3C</option>
            </select>

            <div class="actions">
                <button id="to-choose">Mulai</button>
            </div>
        </div>

        <div id="step-welcome" style="display:none;" class="card">
            <h2 style="text-align:center; font-size:clamp(20px, 4vw, 32px); color:#007bff;">Selamat Datang!</h2>
            <h1 id="welcome-message" style="text-align:center; margin-top:10px; font-size:clamp(28px, 6vw, 42px); font-weight:800; color:#12366b;"></h1>
            <p id="welcome-class" style="text-align:center; font-size:clamp(16px, 2.5vw, 20px); color:#555;"></p>
        </div>

        <div id="step-choose" class="card" style="display:none;" aria-hidden="true">
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <div>
                    <div class="choose-header">Pilih Pembelajaran</div>
                    <div class="choose-sub" id="choose-desc">Baca semua Penjelasan ke lima agama dibawah ini untuk membuka quis. Baca dan di ingat ya adik adik</div>
                </div>
                <div>
                    <button id="back-to-form" class="small-btn">Kembali</button>
                </div>
            </div>

            <div style="margin-top:8px;">
                <div class="top-summary" id="student-summary">Hai, â€”</div>
                <div class="religions" role="list">
                    <button class="religion-btn" data-religion="Islam">Islam</button>
                    <button class="religion-btn" data-religion="Kristen">Kristen</button>
                    <button class="religion-btn" data-religion="Konghucu">Konghucu</button>
                    <button class="religion-btn" data-religion="Hindu">Hindu</button>
                    <button class="religion-btn" data-religion="Buddha">Buddha</button>
                </div>
            </div>
            <button id="start-learning-btn" style="display:none; margin-top:12px;">Mulai Belajar!</button>
        </div>

        <div id="step-religion" style="display:none;">
            <div style="display:flex; justify-content:space-between; align-items:center; gap:12px; max-width:720px; margin:12px auto 6px;">
                <div style="text-align:left;">
                    <div id="header-info" class="muted">Nama â€¢ Kelas â€¢ Agama</div>
                    <div id="welcome-line" style="font-weight:800; font-size:18px;">Deskripsi Agama</div>
                </div>
                <div style="display:flex; gap:8px;">
                    <button id="back-to-choose" class="small-btn">Pilih Lain</button>
                </div>
            </div>

            <div class="religion-detail" aria-live="polite">
                <img id="religion-image" class="religion-image" src="" alt="Gambar agama" />
                <div class="religion-title" id="religion-title">Judul Agama</div>
                <div class="religion-text" id="religion-desc">Penjelasan singkat agama akan muncul di sini.</div>
            </div>
        </div>

        <div id="step-player" style="display:none; width:100%;">
            <div style="display:flex; justify-content:space-between; align-items:center; gap:12px; max-width:720px; margin:0 auto 8px;">
                <div style="text-align:left;">
                    <div id="header-info-player" class="muted">Nama â€¢ Kelas â€¢ Agama</div>
                    <div id="welcome-line-player" style="font-weight:800; font-size:18px;">Selamat belajar!</div>
                </div>
                <div style="display:flex; gap:8px;">
                    <button id="back-to-choose-player" class="small-btn">Pilih Lain</button>
                </div>
            </div>
            <div id="progress-container"></div>

            <div class="video-container" aria-hidden="false">
                <img id="watermark-logo" src="https://siaunhar.harapan.ac.id/files/img/logo/logo.png?v=1" alt="Universitas Harapan Medan logo" />
                <video id="myVideo" playsinline controls preload="metadata">
                    <source src="SKRIPSU FINAL.mp4" type="video/mp4">
                    Browser kamu tidak mendukung video.
                </video>
            </div>
        </div>

        <div id="step-summary" style="display:none;" class="card">
            <h3>ðŸŽŠ Ringkasan Hasil</h3>
            <h2 id="summary-title" style="margin-top:0;">Selamat!</h2>
            <p id="summary-message">Anda telah menyelesaikan kuis.</p>
            <p id="summary-score" class="final-score-text">Nilai akhir: 0</p>
            <div id="summary-details"></div>
            <button id="kirim-wa-btn" style="margin-top:15px;">Kirim ke Guru via WhatsApp</button>
            <button id="kembali-home-btn" style="margin-top:10px;">Kembali ke Halaman Awal</button>
        </div>

        <div id="step-admin" style="display:none;" aria-hidden="true">
            <div style="display:flex; justify-content:space-between; align-items:center; max-width:720px; margin:12px auto 6px;">
                <h3 style="text-align:left; margin:0;">Panel Admin</h3>
                <button id="back-to-form-admin" class="small-btn">Kembali</button>
            </div>
            <div class="card" style="text-align:left;">
                <h4>Peringkat Kelas</h4>
                <p id="no-students-message" style="display:none;">Belum ada siswa yang menyelesaikan pembelajaran.</p>
                <ul id="student-list" class="admin-student-list">
                </ul>
            </div>
        </div>
    </div>

    <div id="overlay" style="display: none;"></div>
    <div id="question-box" class="modal">
        <h3>Pilihan Ganda</h3>
        <p id="q-text"></p>
        <div id="q-buttons"></div>
        <p id="answer-feedback"></p>
    </div>

    <audio id="sound-pop" src="POP.mp3" preload="auto"></audio>
    <audio id="sound-correct" src="CORRECT.mp3" preload="auto"></audio>
    <audio id="sound-wrong" src="WRONG.mp3" preload="auto"></audio>
    <audio id="sound-click" src="CLICK.mp3" preload="auto"></audio>

    <footer>
        <p>&#169; 2025 Universitas Harapan Medan. Hak Cipta Dilindungi.</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="script.txt"></script>
</body>
</html>